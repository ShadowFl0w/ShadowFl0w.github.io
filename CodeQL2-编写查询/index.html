<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="e1iwRhdDRUGkBandwtaXVgqhNwYn1qtFuAYbOSPWpcI">
  <meta name="baidu-site-verification" content="code-NObBqxefR1">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="南有乔木，不可休思；汉有游女，不可求思。 ——《诗经.汉广》   编写CodeQL查询语句，参考官网文档进行翻译。">
<meta property="og:type" content="article">
<meta property="og:title" content="CodeQL2-编写查询">
<meta property="og:url" content="http://example.com/CodeQL2-%E7%BC%96%E5%86%99%E6%9F%A5%E8%AF%A2/index.html">
<meta property="og:site_name" content="ShadowFl0w&#39;s Blog">
<meta property="og:description" content="南有乔木，不可休思；汉有游女，不可求思。 ——《诗经.汉广》   编写CodeQL查询语句，参考官网文档进行翻译。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://codeql.github.com/docs/_images/query-metadata.png">
<meta property="article:published_time" content="2022-02-22T07:17:31.000Z">
<meta property="article:modified_time" content="2022-02-25T06:03:18.254Z">
<meta property="article:author" content="ShadowFl0w">
<meta property="article:tag" content="CodeQL">
<meta property="article:tag" content="代码安全">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://codeql.github.com/docs/_images/query-metadata.png">

<link rel="canonical" href="http://example.com/CodeQL2-%E7%BC%96%E5%86%99%E6%9F%A5%E8%AF%A2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>CodeQL2-编写查询 | ShadowFl0w's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ShadowFl0w's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">松花酿酒 春水煎茶</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/CodeQL2-%E7%BC%96%E5%86%99%E6%9F%A5%E8%AF%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpeg">
      <meta itemprop="name" content="ShadowFl0w">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShadowFl0w's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CodeQL2-编写查询
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-22 15:17:31" itemprop="dateCreated datePublished" datetime="2022-02-22T15:17:31+08:00">2022-02-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-25 14:03:18" itemprop="dateModified" datetime="2022-02-25T14:03:18+08:00">2022-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%89%E5%85%A8/" itemprop="url" rel="index"><span itemprop="name">代码安全</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><font style="color:Gray; float:left">南有乔木，不可休思；汉有游女，不可求思。</font><br></p>
<p><font style="color:Gray; float:right">——《诗经.汉广》</font></p>
<br>

<p>编写CodeQL查询语句，参考官网文档进行翻译。</p>
<span id="more"></span>





<h2 id="1-关于CodeQL查询"><a href="#1-关于CodeQL查询" class="headerlink" title="1. 关于CodeQL查询"></a>1. 关于CodeQL查询</h2><p>CodeQL查询用于分析与安全性、正确性、可维护性和可读性相关的代码问题。</p>
<h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><p>CodeQL自带的查询语句已经包含了用于查询支持的语言的最重要最有趣的问题。但是，你还是可以自己编写查询语句用来查询自己项目中你关心的问题。CodeQL的查询语句类型如下：</p>
<ul>
<li><code>Alert queries</code>: 查询你代码中明显的代码问题。</li>
<li><code>Path queries</code>:  用于查询source和sink点之前的数据流信息。</li>
</ul>
<p>可以将自己编写的CodeQL查询添加到<code>QL packs</code>，然后使用<a target="_blank" rel="noopener" href="https://docs.github.com/en/code-security/secure-coding/automatically-scanning-your-code-for-vulnerabilities-and-errors/about-code-scanning">Code scanning</a>扫描，或者CodeQL CLI扫描或者添加到CodeQL查询的开源github仓库。</p>
<p>这一节主要是基础知识，更多CodeQL查询相关的内容需要与编程语言结合，官方文档在<a target="_blank" rel="noopener" href="https://codeql.github.com/docs/codeql-language-guides/#codeql-language-guides">CodeQL language guides</a>。关于QL语言的更详细的介绍在<a target="_blank" rel="noopener" href="https://codeql.github.com/docs/ql-language-reference/#ql-language-reference">QL language reference</a>。如果想将自己编写的查询语句贡献给CodeQL查询github仓库，需要遵循一定的规范，相关内容在 <a target="_blank" rel="noopener" href="https://github.com/github/codeql/blob/main/docs/ql-style-guide.md">CodeQL style guide</a>。</p>
<h3 id="1-2-基本查询结构"><a href="#1-2-基本查询结构" class="headerlink" title="1.2 基本查询结构"></a>1.2 基本查询结构</h3><p>CodeQL查询文件的扩展名是.ql，查询代码需要包含select语句。</p>
<p>现有的查询代码都有如下结构</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> *</span><br><span class="line"> * Query metadata </span><br><span class="line"> * 查询元数据</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">import <span class="regexp">/* ... CodeQL libraries or modules CodeQL的库或者模块... */</span></span><br><span class="line"></span><br><span class="line"><span class="regexp">/* ... Optional, define CodeQL classes and predicates 可选内容, 定义CodeQL类和谓词 ... */</span></span><br><span class="line"></span><br><span class="line">from <span class="regexp">/* ... variable declarations 变量声明 ... */</span></span><br><span class="line">where <span class="regexp">/* ... logical formula 逻辑公司... */</span></span><br><span class="line">select <span class="regexp">/* ... expressions 表达式... */</span></span><br></pre></td></tr></table></figure>

<p>接下来的几个部分以<code>Alert queries</code>为例，讲一讲上述结构的具体内容。<code>Path queries</code>的内容会在后门介绍。</p>
<p><strong>Query metadata</strong></p>
<p>Query metadata（查询元数据）。</p>
<p>当自己编写的查询文件添加到github仓库或者用于自己分析的时候，需要<code>Query metadata</code>来确认相关信息。<code>Query metadata</code>包含查询的目的，以及包含如何解释和显示查询结果。</p>
<p>元数据内容取决于你怎样运行你的查询。</p>
<ul>
<li>如果是贡献给GitHub仓库，阅读 <a target="_blank" rel="noopener" href="https://github.com/github/codeql/blob/main/docs/query-metadata-style-guide.md">query metadata style guide</a></li>
<li>如果是添加到LGTM 的查询包里面，阅读<a target="_blank" rel="noopener" href="https://lgtm.com/help/lgtm/writing-custom-queries">Writing custom queries to include in LGTM analysis</a></li>
<li>如果使用CodeQL CLI，元数据必须包含 <code>@kind</code>字段</li>
<li>如果在LGTM的console或者VS Code扩展运行，metadata是不强制编写的。然而，如果想你的查询结果是<code>Alert queries</code>或者<code>Path queries</code>类型，必须要有 <code>@kind</code>字段。更多信息，LGTM.com参考 <a target="_blank" rel="noopener" href="https://lgtm.com/help/lgtm/using-query-console">Using the query console</a> ，使用VS Code扩展参考<a target="_blank" rel="noopener" href="https://codeql.github.com/docs/codeql-for-visual-studio-code/analyzing-your-projects/#analyzing-your-projects">Analyzing your projects</a>。</li>
</ul>
<blockquote>
<p>不管是将查询代码添加到开源仓库，或者添加到LGTM的pack里面，还是使用CodeQL CLi都必须有@kind字段，@kind指明怎样解释和显示查询结果</p>
<ul>
<li>Alert query metadat 必须包含 <code>@kind problem</code>来确保结果是 simple alert</li>
<li>Path query metadata 必须包含 <code>@kind path-problem</code> 来确保结果是代码传播过程</li>
<li>Diagnostic query metadata 必须包含  <code>@kind diagnostic</code> 来确保结果是故障排除</li>
<li>Summary query metadata 必须包含  <code>@kind metric</code>和 <code>@tags summary</code> 来确保结果是CodeQL数据库的概览指标</li>
</ul>
</blockquote>
<p><strong>Import 语句</strong></p>
<p>每一个查询代码通常会包含一个或者更多<code>import</code>语句，用来定义导入什么库或者模块。库和模块将一组相关的<code>type</code>、<code>predicates</code>已经其他模块组织在一起。然后查询就可以访问每一个导入的库和模块。 <a target="_blank" rel="noopener" href="https://github.com/github/codeql">open source repository on GitHub</a>包含了支持的每一种语言的标准库。</p>
<p>当编写<code>alert queries</code>的时候，通常会导入项目使用的编程语言的标准库。<code>import</code>后跟如下语言</p>
<ul>
<li>C/C++: <code>cpp</code></li>
<li>C#: <code>csharp</code></li>
<li>Go: <code>go</code></li>
<li>Java: <code>java</code></li>
<li>JavaScript/TypeScript: <code>javascript</code></li>
<li>Python: <code>python</code></li>
</ul>
<p>还有一些库包含常用的<code>predicates</code>,<code>types</code>,和其他与分析相关的模块，包括<code>data flow</code>, <code>control flow</code>,和 <code>taint-tracking</code></p>
<p><strong>可选的CodeQL class和predicates</strong></p>
<p>可以在查询中编写自己的class和predicates，更多详细类容 <a target="_blank" rel="noopener" href="https://codeql.github.com/docs/ql-language-reference/predicates/#defining-a-predicate">Defining a predicate</a> 和 <a target="_blank" rel="noopener" href="https://codeql.github.com/docs/ql-language-reference/types/#defining-a-class">Defining a class</a></p>
<p><strong>From子句</strong></p>
<p><code>from</code>子句声明查询中要使用的变量，每个声明按照格式：<type> <variable name>，更多内容参考QL语言部分。</p>
<p><strong>Where子句</strong></p>
<p><code>where</code>子句定义逻辑条件。</p>
<p><strong>Select子句</strong></p>
<p><code>select</code>子句用于显示复合<code>where</code>子句条件的<code>from</code>子句声明的变量。显示的结构由@kind决定。</p>
<p>如果是<code>@kind problem</code>,由两个字段组成：</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">element</span>, <span class="keyword">string</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>element</code>: 由查询确定，它就是要查询的内容</li>
<li><code>string</code>: 一条消息，也可以包含链接和占位符，起解释作用</li>
</ul>
<p>其他@kind类型在后面将讲到。</p>
<h2 id="2-Metadata"><a href="#2-Metadata" class="headerlink" title="2. Metadata"></a>2. Metadata</h2><p>Metadata(元数据)告诉用户的重要信息。你必须编写正确的查询元数据来获取结果。</p>
<h3 id="2-1-关于查询元数据"><a href="#2-1-关于查询元数据" class="headerlink" title="2.1 关于查询元数据"></a>2.1 关于查询元数据</h3><p>Metadata作为QLDodc注释出现在查询文件的顶部。metadata用于定义查询方式、显示方式，以及方便其他用户了解此查询文件的解释。</p>
<h3 id="2-2-Metadata属性"><a href="#2-2-Metadata属性" class="headerlink" title="2.2 Metadata属性"></a>2.2 Metadata属性</h3><p>下面的属性支持所有的查询文件</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>@description</code></td>
<td align="left"><code>&lt;text&gt;</code></td>
<td align="left">一条语句或一个段落，用来描述查询的目的和结果的有效性和重要性。用<code>&#39;&#39;</code>包含</td>
</tr>
<tr>
<td align="left"><code>@id</code></td>
<td align="left"><code>&lt;text&gt;</code></td>
<td align="left">由小写字母或数字组成的一系列单词，用<code>/</code>或<code>-</code>分割，识别和分类查询，每一个查询必须有唯一的ID。为了确保唯一ID，使用固定结构也许有帮助，比如LGTM的标准查询的格式： <code>&lt;language&gt;/&lt;brief-description&gt;</code></td>
</tr>
<tr>
<td align="left"><code>@kind</code></td>
<td align="left"><code>problem</code><br><code>path-problem</code></td>
<td align="left">确实查询是alert (<code>@kind problem</code>) 或者 path (<code>@kind path-problem</code>)。</td>
</tr>
<tr>
<td align="left"><code>@name</code></td>
<td align="left"><code>&lt;text&gt;</code></td>
<td align="left">定义查询标签的语句。用<code>&#39;&#39;</code>包含</td>
</tr>
<tr>
<td align="left"><code>@tags</code></td>
<td align="left"><code>correctness</code><br><code>maintainability</code><br><code>readability</code><br><code>security</code></td>
<td align="left">这些标签将查询按大的类别分组，以便于搜索和识别它们。除了列出的常见标签，还有一些更具体的类别。参考<a target="_blank" rel="noopener" href="https://github.com/github/codeql/blob/main/docs/query-metadata-style-guide.md">Query metadata style guide</a>.</td>
</tr>
<tr>
<td align="left"><code>@precision</code></td>
<td align="left"><code>low</code><br><code>medium</code><br><code>high</code><br><code>very-high</code></td>
<td align="left">指示查询结果为正的百分比。这一点，和@problem.severity特性，决定是否在LGTM上默认显示</td>
</tr>
<tr>
<td align="left"><code>@problem.severity</code></td>
<td align="left"><code>error</code><br><code>warning</code><br><code>recommendation</code></td>
<td align="left">定义非安全查询的告警程度。和 <code>@precision</code>一起，决定是否显示结果</td>
</tr>
<tr>
<td align="left"><code>@security-severity</code></td>
<td align="left"><code>&lt;score&gt;</code></td>
<td align="left">定义紧急程度，在0.0和10.0之间</td>
</tr>
</tbody></table>
<h3 id="2-3-filter查询的其他属性"><a href="#2-3-filter查询的其他属性" class="headerlink" title="2.3 filter查询的其他属性"></a>2.3 filter查询的其他属性</h3><p>过滤器查询用于定义其他约束，以限制其他查询返回的结果。一个过滤器查询必须有一样的@kind属性，用来指定结果的过滤。不需要其他元数据属性。</p>
<h3 id="2-4-用例"><a href="#2-4-用例" class="headerlink" title="2.4 用例"></a>2.4 用例</h3><p>标准的java查询元数据</p>
<p><img src="https://codeql.github.com/docs/_images/query-metadata.png"></p>
<h2 id="3-查询帮助文件"><a href="#3-查询帮助文件" class="headerlink" title="3. 查询帮助文件"></a>3. 查询帮助文件</h2><p>Query help files（查询帮助文件）告诉用户查询的目的，并建议如何解决查询发现的潜在问题。</p>
<p>这个部分关于查询帮助文件结构的详细信息。关于如何写一个好的查询帮助文件参考 <a target="_blank" rel="noopener" href="https://github.com/github/codeql/blob/main/docs/query-help-style-guide.md">Query help style guide</a></p>
<h3 id="3-1-概览"><a href="#3-1-概览" class="headerlink" title="3.1 概览"></a>3.1 概览</h3><p>每个查询帮助文件提供了关于使用一个查询的目的和使用的详细信息。当你编写你自己的查询的时候，我们也建议你也编写一个查询帮助文件以让其他使用者知道这个查询是做什么的已经怎么做的。</p>
<h3 id="3-2-结构"><a href="#3-2-结构" class="headerlink" title="3.2 结构"></a>3.2 结构</h3><p>查询帮助文档使用自定义的XML格式，存储文件是.qhelp扩展名。查询帮助文件的名字必须根查询文件名称一样，并且在同一目录。基本结果如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">qhelp</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;qhelp.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">qhelp</span>&gt;</span></span><br><span class="line">    CONTAINS one or more section-level elements</span><br><span class="line"><span class="tag">&lt;/<span class="name">qhelp</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>头和顶级元素是必须要有的，</p>
<h3 id="3-3-Section-level-elements"><a href="#3-3-Section-level-elements" class="headerlink" title="3.3 Section-level elements"></a>3.3 Section-level elements</h3><p>Section-level 元素被用于在帮助文件中将信息组织成不同的部分。许多sections有heading，被 <code>title</code>属性或者默认值定义。下面的的section-level 元素可以在child 元素中使用。</p>
<table>
<thead>
<tr>
<th align="left">Element</th>
<th align="left">Attributes</th>
<th align="left">Children</th>
<th align="left">Purpose of section</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>example</code></td>
<td align="left">None</td>
<td align="left">Any block element</td>
<td align="left">编写一个用例，并且给出修复方案。默认</td>
</tr>
<tr>
<td align="left"><code>fragment</code></td>
<td align="left">None</td>
<td align="left">Any block element</td>
<td align="left">参考 “<a target="_blank" rel="noopener" href="https://codeql.github.com/docs/writing-codeql-queries/query-help-files/#qhelp-inclusion">Query help inclusion</a>” below.</td>
</tr>
<tr>
<td align="left"><code>hr</code></td>
<td align="left">None</td>
<td align="left">None</td>
<td align="left">A horizontal rule. No heading.</td>
</tr>
<tr>
<td align="left"><code>include</code></td>
<td align="left"><code>src</code> The query help file to include.</td>
<td align="left">None</td>
<td align="left">Include a query help file at the location of this element. See “<a target="_blank" rel="noopener" href="https://codeql.github.com/docs/writing-codeql-queries/query-help-files/#qhelp-inclusion">Query help inclusion</a>” below.</td>
</tr>
<tr>
<td align="left"><code>overview</code></td>
<td align="left">None</td>
<td align="left">Any block element</td>
<td align="left">查询目的概述。通常这是查询文档的第一部分。</td>
</tr>
<tr>
<td align="left"><code>recommendation</code></td>
<td align="left">None</td>
<td align="left">Any block element</td>
<td align="left">建议如何处理此查询识别的告警。默认标签.</td>
</tr>
<tr>
<td align="left"><code>references</code></td>
<td align="left">None</td>
<td align="left"><code>li</code> elements</td>
<td align="left">参考列表，一般在文档最后。默认标签</td>
</tr>
<tr>
<td align="left"><code>section</code></td>
<td align="left"><code>title</code> Title of the section</td>
<td align="left">Any block element</td>
<td align="left">General-purpose section with a heading defined by the <code>title</code> attribute。</td>
</tr>
<tr>
<td align="left"><code>semmleNotes</code></td>
<td align="left">None</td>
<td align="left">Any block element</td>
<td align="left">Implementation notes about the query. This section is used only for queries that implement a rule defined by a third party. Default heading.关于查询的实现说明</td>
</tr>
</tbody></table>
<h3 id="3-4-块元素"><a href="#3-4-块元素" class="headerlink" title="3.4 块元素"></a>3.4 块元素</h3><p>下面的元素是 <code>section</code>, <code>example</code>, <code>fragment</code>, <code>recommendation</code>, <code>overview</code>, and <code>semmleNotes</code> 的子元素</p>
<table>
<thead>
<tr>
<th align="left">Element</th>
<th align="left">Attributes</th>
<th align="left">Children</th>
<th align="left">Purpose of block</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>blockquote</code></td>
<td align="left">None</td>
<td align="left">Any block element</td>
<td align="left">显示引用的段落</td>
</tr>
<tr>
<td align="left"><code>img</code></td>
<td align="left"><code>src</code> The image file to include.<code>alt</code> Text for the image’s alt text.<code>height</code> Optional, height of the image.<code>width</code> Optional, the width of the image.</td>
<td align="left">None</td>
<td align="left">显示图像。图像的内容位于单独的图像文件中。</td>
</tr>
<tr>
<td align="left"><code>include</code></td>
<td align="left"><code>src</code> The query help file to include.</td>
<td align="left">None</td>
<td align="left">Include a query help file at the location of this element. See <a target="_blank" rel="noopener" href="https://codeql.github.com/docs/writing-codeql-queries/query-help-files/#qhelp-inclusion">Query help inclusion</a> below for more information.</td>
</tr>
<tr>
<td align="left"><code>ol</code></td>
<td align="left">None</td>
<td align="left"><code>li</code></td>
<td align="left">显示有序列表。请参见下面的列表元素。</td>
</tr>
<tr>
<td align="left"><code>p</code></td>
<td align="left">None</td>
<td align="left">Any inline content</td>
<td align="left">显示段落，如在HTML文件中使用。</td>
</tr>
<tr>
<td align="left"><code>pre</code></td>
<td align="left">None</td>
<td align="left">Text</td>
<td align="left">等距字体显示文本</td>
</tr>
<tr>
<td align="left"><code>sample</code></td>
<td align="left"><code>language</code> The language of the in-line code sample.<code>src</code> Optional, the file containing the sample code.</td>
<td align="left">Text</td>
<td align="left">当指定了src文件，则根据文件扩展名推断语言，如果没有src文件，必须用sample标签声明</td>
</tr>
<tr>
<td align="left"><code>table</code></td>
<td align="left">None</td>
<td align="left"><code>tbody</code></td>
<td align="left">显示列表</td>
</tr>
<tr>
<td align="left"><code>ul</code></td>
<td align="left">None</td>
<td align="left"><code>li</code></td>
<td align="left">显示无序列表</td>
</tr>
<tr>
<td align="left"><code>warning</code></td>
<td align="left">None</td>
<td align="left">Text</td>
<td align="left">显示明显的告警，用于在较低准确度的查询，这样的查询一般默认禁用</td>
</tr>
</tbody></table>
<h3 id="3-5-List-元素"><a href="#3-5-List-元素" class="headerlink" title="3.5 List 元素"></a>3.5 List 元素</h3><p>查询帮助文件支持两种列表元素：: <code>ul</code> 和 <code>ol</code>。两个块元素都只支持<code>li</code>的子元素。每个<code>li</code>元素包含内联元素和块元素。</p>
<h3 id="3-6-表元素"><a href="#3-6-表元素" class="headerlink" title="3.6 表元素"></a>3.6 表元素</h3><p> <code>table</code> 用于在查询帮助文件中生成一个表。</p>
<table>
<thead>
<tr>
<th align="left">Element</th>
<th align="left">Attributes</th>
<th align="left">Children</th>
<th align="left">Purpose</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>tbody</code></td>
<td align="left">None</td>
<td align="left"><code>tr</code></td>
<td align="left">Defines the top-level element of a table.</td>
</tr>
<tr>
<td align="left"><code>tr</code></td>
<td align="left">None</td>
<td align="left"><code>th``td</code></td>
<td align="left">Defines one row of a table.</td>
</tr>
<tr>
<td align="left"><code>td</code></td>
<td align="left">None</td>
<td align="left">Any inline content</td>
<td align="left">Defines one cell of a table row.</td>
</tr>
<tr>
<td align="left"><code>th</code></td>
<td align="left">None</td>
<td align="left">Any inline content</td>
<td align="left">Defines one header cell of a table row.</td>
</tr>
</tbody></table>
<h3 id="3-7-内联内容"><a href="#3-7-内联内容" class="headerlink" title="3.7 内联内容"></a>3.7 内联内容</h3><table>
<thead>
<tr>
<th align="left">Element</th>
<th align="left">Attributes</th>
<th align="left">Children</th>
<th align="left">Purpose</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>a</code></td>
<td align="left"><code>href</code> The URL of the link.</td>
<td align="left">text</td>
<td align="left">Defines hyperlink. When a user selects the child text, they will be redirected to the given URL.</td>
</tr>
<tr>
<td align="left"><code>b</code></td>
<td align="left">None</td>
<td align="left">Inline content</td>
<td align="left">Defines content that should be displayed as bold face.</td>
</tr>
<tr>
<td align="left"><code>code</code></td>
<td align="left">None</td>
<td align="left">Inline content</td>
<td align="left">Defines content representing code. It is typically shown in a monospace font.</td>
</tr>
<tr>
<td align="left"><code>em</code></td>
<td align="left">None</td>
<td align="left">Inline content</td>
<td align="left">Defines content that should be emphasized, typically by italicizing it.</td>
</tr>
<tr>
<td align="left"><code>i</code></td>
<td align="left">None</td>
<td align="left">Inline content</td>
<td align="left">Defines content that should be displayed as italics.</td>
</tr>
<tr>
<td align="left"><code>img</code></td>
<td align="left"><code>src``alt``height``width</code></td>
<td align="left">None</td>
<td align="left">Display an image. See the description above in Block elements.</td>
</tr>
<tr>
<td align="left"><code>strong</code></td>
<td align="left">None</td>
<td align="left">Inline content</td>
<td align="left">Defines content that should be rendered more strongly, typically using bold face.</td>
</tr>
<tr>
<td align="left"><code>sub</code></td>
<td align="left">None</td>
<td align="left">Inline content</td>
<td align="left">Defines content that should be rendered as subscript.</td>
</tr>
<tr>
<td align="left"><code>sup</code></td>
<td align="left">None</td>
<td align="left">Inline content</td>
<td align="left">Defines content that should be rendered as superscript.</td>
</tr>
<tr>
<td align="left"><code>tt</code></td>
<td align="left">None</td>
<td align="left">Inline content</td>
<td align="left">Defines content that should be displayed with a monospace font.</td>
</tr>
</tbody></table>
<h3 id="3-8-包含"><a href="#3-8-包含" class="headerlink" title="3.8 包含"></a>3.8 包含</h3><p>为了在不同的帮助主题中使用重复的内容，可以将都用的内容存在查询帮助文件，其他文件帮助文件就可以使用<code>include</code>标签来引用。共享内容可以放在同一个目录或者放在 <code>SEMMLE_DIST/docs/include</code>。如果一个查询帮助文件只是被引用但不属于其他文件，需要使用<code>.inc.qhelp</code>后缀</p>
<p> <code>include</code> 元素可以被用于Section-level 元素或者块元素。</p>
<p><strong>Section-level 包含元素</strong></p>
<p>Section-level 的<code>include</code>元素可以在<code>qhelp</code>中，例如</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">qhelp</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">src</span>=<span class="string">&quot;XSS.qhelp&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">qhelp</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>Block-level 包含元素</strong></p>
<p>Block-level <code>include</code> 元素可以在section-level 元素里使用。例如，在<code>overview</code>中</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">qhelp&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">overview</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span> <span class="attr">src</span>=<span class="string">&quot;ThreadUnsafeICryptoTransformOverview.inc.qhelp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">overview</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">qhelp</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="4-控制查询结果"><a href="#4-控制查询结果" class="headerlink" title="4. 控制查询结果"></a>4. 控制查询结果</h2><p>可以通过select语句控制显示结果</p>
<h3 id="4-1-关于查询结果"><a href="#4-1-关于查询结果" class="headerlink" title="4.1 关于查询结果"></a>4.1 关于查询结果</h3><p>结果里的信息由<code>select</code>语句控制，<code>select</code>语句必须有两个字段</p>
<ul>
<li>Element——告警的变量，也就是要查询的代码</li>
<li>String——自定义字符串消息</li>
</ul>
<p>在有些查询中，我们可以看见除上面外的其他内容，使用 <code>$@</code> 做占位符。如下</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select access, <span class="string">&quot;Variable $@ may be null here &quot;</span> + msg + <span class="string">&quot;.&quot;</span>, <span class="selector-tag">var</span><span class="selector-class">.getVariable</span>(),</span><br><span class="line">  <span class="selector-tag">var</span><span class="selector-class">.getVariable</span>()<span class="selector-class">.getName</span>(), reason, <span class="string">&quot;this&quot;</span></span><br></pre></td></tr></table></figure>

<p>后门的内容都会放在 <code>$@</code> 的位置。</p>
<h3 id="4-2-编写select语句案例"><a href="#4-2-编写select语句案例" class="headerlink" title="4.2 编写select语句案例"></a>4.2 编写select语句案例</h3><p><code>CodeDuplication.qll</code>是比较文件相似度的库。我们将在案例中使用这个库来辨析示例。</p>
<p><strong>基本的select语句</strong></p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">external</span>.CodeDuplication</span><br><span class="line"></span><br><span class="line">from <span class="keyword">File</span> f, <span class="keyword">File</span> other, <span class="built_in">int</span> percent</span><br><span class="line"><span class="keyword">where</span> similarFiles(f, other, percent)</span><br><span class="line"><span class="keyword">select</span> f, <span class="string">&quot;This file is similar to another file.&quot;</span></span><br></pre></td></tr></table></figure>

<p>这个基本查询语句的select语句有两个部分，</p>
<ul>
<li><code>f</code>对应要对比的文件</li>
<li>“This file is similar to another file.”是字符串消息。</li>
</ul>
<p><strong>在查询语句中显示其他文件信息</strong></p>
<p>上面的案例没有与其相似的文件信息，下面我们要打印出其他文件信息。</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> f, <span class="string">&quot;This file is similar to &quot;</span> + other.getBaseName()</span><br></pre></td></tr></table></figure>

<p>这条语句可以将其他文件打印出来</p>
<p><strong>加入占位符</strong></p>
<figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select f, <span class="string">&quot;This file is similar to $@.&quot;</span>, <span class="literal">other</span>, <span class="literal">other</span>.getBaseName()</span><br></pre></td></tr></table></figure>

<p>显示的时候other<code>, </code>other.getBaseName()<code>会替换</code>$@`的位置。</p>
<p>如果有多个占位符，原文如下，这里不深究</p>
<blockquote>
<p>If you use the <code>$@</code> placeholder marker multiple times in the description text, then the <code>N</code>th use is replaced by a link formed from columns <code>2N+2</code> and <code>2N+3</code>. If there are more pairs of additional columns than there are placeholder markers, then the trailing columns are ignored. Conversely, if there are fewer pairs of additional columns than there are placeholder markers, then the trailing markers are treated as normal text rather than placeholder markers.</p>
</blockquote>
<p><strong>加入相似度信息</strong></p>
<figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select f, percent + <span class="string">&quot;% of the lines in &quot;</span> + f.getBaseName() + <span class="string">&quot; are similar to lines in $@.&quot;</span>, <span class="literal">other</span>, <span class="literal">other</span>.getBaseName()</span><br></pre></td></tr></table></figure>



<h2 id="5-元素位置信息"><a href="#5-元素位置信息" class="headerlink" title="5. 元素位置信息"></a>5. 元素位置信息</h2><p>CodeQL提供了在代码数据库里获取元素位置信息的机制。使用这个机制可以为用户提供更多的信息。</p>
<h3 id="5-1-关于元素位置"><a href="#5-1-关于元素位置" class="headerlink" title="5.1 关于元素位置"></a>5.1 关于元素位置</h3><p>当显示给用户信息的时候，LGTM需要能够从查询结果中提取位置信息，为此，所有的QL 类提供位置信息需要使用如下机制之一</p>
<ul>
<li>提供URLS</li>
<li>提供位置信息</li>
<li>使用提取的位置信息</li>
</ul>
<p>上诉按优先级排列，以便使用第一个可用的机制。</p>
<blockquote>
<p>因为QL是一种关系型语言，每一个QL类的实例都精确的映射到一个位置。这是库设计者的责任。如果实例没有位置信息，就不能点击结果跳转到源代码。如果有多个位置，结果就会重复。</p>
</blockquote>
<h3 id="5-2-提供URLS"><a href="#5-2-提供URLS" class="headerlink" title="5.2 提供URLS"></a>5.2 提供URLS</h3><p>一个自定义的URL可以写在一个没有参数的(注意大小写)的断言getURL里，如下</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JiraIssue</span> <span class="keyword">extends</span> <span class="title">ExternalData</span> </span>&#123;</span><br><span class="line">    <span class="type">JiraIssue</span>() &#123;</span><br><span class="line">        getDataPath() = <span class="string">&quot;JiraIssues.csv&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string getKey() &#123;</span><br><span class="line">        result = getField(<span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string getURL() &#123;</span><br><span class="line">        result = <span class="string">&quot;http://mycompany.com/jira/&quot;</span> + getKey()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>文件 URLs</strong></p>
<p><code>file://</code>跟一个绝对路径，后面再跟四个冒号分隔的数字。数字表示开始行、开始列、结束行和结束列。</p>
<ul>
<li><code>file://opt/src/my/file.java:0:0:0:0</code> 表示使用这个文件</li>
<li><code>file:///opt/src/my/file.java:1:1:2:1</code> 从文件开始到第二行的第一个字符。</li>
<li><code>file:///opt/src/my/file.java:1:0:1:0</code> 表示文件的第一行</li>
</ul>
<p>按照惯例，整个文件也可以用 <code>file://</code> 表示，后面不跟数字。或者使用三个数字来表示起始行的位置、长度、字符偏移量。LGTM不会显示这个类型的结果</p>
<p><strong>其他类型的URL</strong></p>
<p>以下不太常见的URL类型是有效的，但LGTM不支持，并且将从任何结果中忽略</p>
<ul>
<li><code>HTTP URLs</code> 某些客户端应用支持。</li>
<li><code>Folder URLs</code> 用法： <code>folder://</code>,后面不跟数字，例如 <code>folder:///opt/src</code></li>
<li><code>Relative file URLs</code> 像正常的文件URLs, 但是以 <code>relative://</code>开始。它们通常的意义是代码数据库的上下文。由于相对位置不变，导入外部信息的时候通常使Relative file URLs。</li>
</ul>
<h3 id="5-3-提供位置信息"><a href="#5-3-提供位置信息" class="headerlink" title="5.3 提供位置信息"></a>5.3 提供位置信息</h3><p>如果没有定义getURL断言，</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://codeql.github.com/docs/codeql-overview/">https://codeql.github.com/docs/codeql-overview/</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/github/codeql/tree/main/docs">https://github.com/github/codeql/tree/main/docs</a></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CodeQL/" rel="tag"># CodeQL</a>
              <a href="/tags/%E4%BB%A3%E7%A0%81%E5%AE%89%E5%85%A8/" rel="tag"># 代码安全</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/linux%E4%B8%8B%E8%BD%BD%E8%BF%9C%E7%A8%8B%E6%81%B6%E6%84%8F%E6%96%87%E4%BB%B6/" rel="prev" title="linux下载远程恶意文件">
      <i class="fa fa-chevron-left"></i> linux下载远程恶意文件
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%85%B3%E4%BA%8ECodeQL%E6%9F%A5%E8%AF%A2"><span class="nav-text">1. 关于CodeQL查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E6%A6%82%E8%BF%B0"><span class="nav-text">1.1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E5%9F%BA%E6%9C%AC%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%84"><span class="nav-text">1.2 基本查询结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Metadata"><span class="nav-text">2. Metadata</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%85%B3%E4%BA%8E%E6%9F%A5%E8%AF%A2%E5%85%83%E6%95%B0%E6%8D%AE"><span class="nav-text">2.1 关于查询元数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Metadata%E5%B1%9E%E6%80%A7"><span class="nav-text">2.2 Metadata属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-filter%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%85%B6%E4%BB%96%E5%B1%9E%E6%80%A7"><span class="nav-text">2.3 filter查询的其他属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E7%94%A8%E4%BE%8B"><span class="nav-text">2.4 用例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E6%9F%A5%E8%AF%A2%E5%B8%AE%E5%8A%A9%E6%96%87%E4%BB%B6"><span class="nav-text">3. 查询帮助文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E6%A6%82%E8%A7%88"><span class="nav-text">3.1 概览</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E7%BB%93%E6%9E%84"><span class="nav-text">3.2 结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-Section-level-elements"><span class="nav-text">3.3 Section-level elements</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-%E5%9D%97%E5%85%83%E7%B4%A0"><span class="nav-text">3.4 块元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-List-%E5%85%83%E7%B4%A0"><span class="nav-text">3.5 List 元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-%E8%A1%A8%E5%85%83%E7%B4%A0"><span class="nav-text">3.6 表元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-%E5%86%85%E8%81%94%E5%86%85%E5%AE%B9"><span class="nav-text">3.7 内联内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-8-%E5%8C%85%E5%90%AB"><span class="nav-text">3.8 包含</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%8E%A7%E5%88%B6%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C"><span class="nav-text">4. 控制查询结果</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%85%B3%E4%BA%8E%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C"><span class="nav-text">4.1 关于查询结果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E7%BC%96%E5%86%99select%E8%AF%AD%E5%8F%A5%E6%A1%88%E4%BE%8B"><span class="nav-text">4.2 编写select语句案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E5%85%83%E7%B4%A0%E4%BD%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="nav-text">5. 元素位置信息</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E5%85%B3%E4%BA%8E%E5%85%83%E7%B4%A0%E4%BD%8D%E7%BD%AE"><span class="nav-text">5.1 关于元素位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E6%8F%90%E4%BE%9BURLS"><span class="nav-text">5.2 提供URLS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E6%8F%90%E4%BE%9B%E4%BD%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="nav-text">5.3 提供位置信息</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">参考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ShadowFl0w"
      src="/images/touxiang.jpeg">
  <p class="site-author-name" itemprop="name">ShadowFl0w</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">24</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ShadowFl0w" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ShadowFl0w" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/ShadowFl0w" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;ShadowFl0w" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ShadowFl0w</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
